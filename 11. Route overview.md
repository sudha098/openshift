## ğŸ”§ Build & BuildConfig Overview in OpenShift

In OpenShift, **Build** and **BuildConfig (BC)** are core components that automate the creation of container images from your application source code.

---

### ğŸš€ What is a **BuildConfig (BC)?**

A **BuildConfig** is a custom OpenShift resource that defines:

| Purpose                    | `BuildConfig`                                   |
| -------------------------- | ----------------------------------------------- |
| What to build              | Source repo (Git), Dockerfile, Binary artifacts |
| How to build               | Strategy (S2I, Docker, Custom)                  |
| When to build              | Webhooks, Image stream triggers, Config changes |
| Where to store built image | Output ImageStream / registry                   |

â© Essentially, BuildConfig is like a **CI pipeline definition** inside OpenShift.

---

### ğŸ” What is a **Build?**

A **Build** is an **execution instance of a BuildConfig**, similar to a Job started from the BC.

| BuildConfig          | Build                                |
| -------------------- | ------------------------------------ |
| Template             | Execution                            |
| Persistent object    | Ephemeral object                     |
| Defines how to build | Actually builds the image            |
| Triggers builds      | Gets created by triggers or manually |

You can have **multiple Builds generated from a single BuildConfig**.

---

## ğŸ”¨ Build Strategies

OpenShift provides different strategies based on how you want to build images:

| Build Strategy            | Description                                                                |
| ------------------------- | -------------------------------------------------------------------------- |
| **Source-to-Image (S2I)** | Builds app by injecting source into a builder image (no Dockerfile needed) |
| **Docker Strategy**       | Uses the Dockerfile to build image                                         |
| **Custom Strategy**       | User-provided custom builder image                                         |
| **Pipeline Strategy**     | Uses Tekton build pipelines                                                |

Example BuildConfig using **S2I Strategy**:

```yaml
strategy:
  sourceStrategy:
    from:
      kind: ImageStreamTag
      name: python:3.9
```

---

## ğŸ“¦ Build Input Sources

| Input Type     | Example                         |
| -------------- | ------------------------------- |
| Git Repository | GitHub repo URL                 |
| Binary         | Local `.jar` or `.war` upload   |
| Dockerfile     | Custom Dockerfile in repo       |
| Image Stream   | Rebuild when base image updates |

Example input:

```yaml
source:
  type: Git
  git:
    uri: https://github.com/myorg/demo-app.git
```

---

## ğŸ“¤ Build Output

Builds output container images to:

* **Internal registry â†’ ImageStreams** (recommended)
* Docker registry / Quay / ECR / GCR

Example:

```yaml
output:
  to:
    kind: ImageStreamTag
    name: demo-app:latest
```

---

## ğŸ”¥ Build Triggers

| Trigger Type  | When it fires             |
| ------------- | ------------------------- |
| Git webhook   | New commit pushed         |
| Image change  | Base image stream changes |
| Config change | BuildConfig modified      |
| Manual        | User starts build         |

---

## ğŸ“Œ Lifecycle of BuildConfig & Build

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        webhook/image/config trigger       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
| BuildConfig | â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ |   Build    |
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                               â”‚
                                                               â–¼
                                                       Image pushed to registry
```

---

## ğŸ“ CLI Examples

â–¶ **View all BuildConfigs**

```sh
oc get bc
```

â–¶ **Start a build manually**

```sh
oc start-build <buildconfig-name>
```

â–¶ **View builds**

```sh
oc get builds
```

â–¶ **Follow build logs**

```sh
oc logs -f build/<build-name>
```

---

## ğŸ§  Why BuildConfig and Build are important?

| Feature                                 | Kubernetes | OpenShift |
| --------------------------------------- | ---------- | --------- |
| Native image build automation           | âŒ No       | âœ… Yes     |
| Webhooks to trigger builds              | âŒ          | âœ…         |
| Automated rebuild on base image changes | âŒ          | âœ…         |
| Integrated CI-style build workflows     | âŒ          | âœ…         |

ğŸ‘† **This makes OpenShift a hybrid of CI + CD**, unlike vanilla Kubernetes.

---

